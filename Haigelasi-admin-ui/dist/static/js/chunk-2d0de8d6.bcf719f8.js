(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-2d0de8d6"],{"85ad":function(r,e,n){"use strict";n.r(e);var t=n("61f7"),i=n("1131"),o=n("5f87");e["default"]={name:"login",components:{LangSelect:i["default"]},data:function(){var r=this,e=function(e,n,i){Object(t["isvalidUsername"])(n)?i():i(new Error(r.$t("login.errorAccount")))},n=function(e,n,t){n.length<5?t(new Error(r.$t("login.errorPassword"))):t()};return{loginForm:{username:"",password:""},loginRules:{username:[{required:!0,trigger:"blur",validator:e}],password:[{required:!0,trigger:"blur",validator:n}]},loading:!1,pwdType:"password",redirect:"/"}},created:function(){Object(o["setToken"])(null)},mounted:function(){this.init()},methods:{init:function(){var r=this.$route.query.redirect;r&&(this.redirect=r)},showPwd:function(){"password"===this.pwdType?this.pwdType="":this.pwdType="password"},handleLogin:function(){var r=this,e=this.$route.query.redirect;this.$refs.loginForm.validate((function(n){if(!n)return!1;r.loading=!0,r.$store.dispatch("user/login",r.loginForm).then((function(){r.loading=!1,e?r.$router.push(e):r.$router.push({path:r.redirect})})).catch((function(e){r.loading=!1}))}))}}}}}]);