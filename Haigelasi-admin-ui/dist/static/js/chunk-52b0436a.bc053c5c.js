(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-52b0436a","chunk-593eea03","chunk-2d0b30ad","chunk-2d226008","chunk-2d2371fe"],{"274f":function(t,e,i){"use strict";i.r(e);var n=i("b775");e["default"]={getList:function(t){return Object(n["default"])({url:"/shop/goods/list",method:"get",params:t})},saveBaseInfo:function(t){return Object(n["default"])({url:"/shop/goods/saveBaseInfo",method:"post",data:t})},save:function(t){return Object(n["default"])({url:"/shop/goods",method:"post",data:t})},remove:function(t){return Object(n["default"])({url:"/shop/goods",method:"delete",params:{id:t}})},get:function(t){return Object(n["default"])({url:"/shop/goods",method:"get",params:{id:t}})},changeIsOnSale:function(t,e){return Object(n["default"])({url:"/shop/goods/changeIsOnSale",method:"post",params:{id:t,isOnSale:e}})}}},4381:function(t,e,i){"use strict";i.r(e);var n=i("e799"),s=function(t){t.directive("permission",n["default"])};window.Vue&&(window["permission"]=n["default"],Vue.use(s)),n["default"].install=s,e["default"]=n["default"]},bb9e:function(t,e,i){"use strict";i.r(e);var n=i("274f"),s=i("fa7d"),a=i("4381");e["default"]={directives:{permission:a["default"]},data:function(){return{listQuery:{page:1,limit:20,name:void 0},total:0,list:null,listLoading:!0,selRow:{},apiUrl:Object(s["getApiUrl"])()}},filters:{statusFilter:function(t){var e={published:"success",draft:"gray",deleted:"danger"};return e[t]}},created:function(){this.init()},methods:{init:function(){this.fetchData()},fetchData:function(){var t=this;this.listLoading=!0,n["default"].getList(this.listQuery).then((function(e){t.list=e.data.records,t.listLoading=!1,t.total=e.data.total}))},search:function(){this.fetchData()},reset:function(){this.listQuery.name="",this.fetchData()},handleFilter:function(){this.listQuery.page=1,this.getList()},handleClose:function(){},fetchNext:function(){this.listQuery.page=this.listQuery.page+1,this.fetchData()},fetchPrev:function(){this.listQuery.page=this.listQuery.page-1,this.fetchData()},fetchPage:function(t){this.listQuery.page=t,this.fetchData()},changeSize:function(t){this.listQuery.limit=t,this.fetchData()},handleCurrentChange:function(t,e){this.selRow=t},checkSel:function(){return!(!this.selRow||!this.selRow.id)||(this.$message({message:this.$t("common.mustSelectOne"),type:"warning"}),!1)},add:function(){this.$router.push("goodsEdit")},edit:function(t){this.$router.push({path:"goodsEdit",query:{id:t}})},changeIsOnSale:function(t){var e=this;n["default"].changeIsOnSale(t.id,t.isOnSale).then((function(i){e.$message({message:t.isOnSale?"上架成功":"下架成功",type:"success"})}))}}}},e799:function(t,e,i){"use strict";i.r(e);i("6762"),i("2fdb");var n=i("4360");e["default"]={inserted:function(t,e,i){var s=e.value,a=n["default"].getters&&n["default"].getters.permissions;if(!(s&&s instanceof Array&&s.length>0))throw new Error("need roles! Like v-permission=\"['admin','editor']\"");var u=s,r=a.some((function(t){return u.includes(t)}));r||t.parentNode&&t.parentNode.removeChild(t)}}},fa7d:function(t,e,i){"use strict";i.r(e),i.d(e,"getApiUrl",(function(){return s}));var n="/api/admin/";function s(){return n}}}]);