(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-3947fa74","chunk-2d21f22f","chunk-2d2371fe"],{"25cf":function(t,e,r){"use strict";r.r(e);var n=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"app-container"},[r("div",{staticClass:"block"},[r("el-row",[r("el-col",{attrs:{span:24}},[r("el-button",{directives:[{name:"show",rawName:"v-show",value:"待发货"==t.form.statusName,expression:"form.statusName =='待发货'"}],attrs:{type:"success",size:"mini",icon:"el-icon-edit"},nativeOn:{click:function(e){return t.sendOut(e)}}},[t._v("发货\n        ")]),t._v(" "),r("el-button",{attrs:{type:"default",size:"mini"},on:{click:t.printOrder}},[t._v("打 印")])],1)],1)],1),t._v(" "),r("el-form",{ref:"print",attrs:{"label-width":"150px"}},[r("el-row",[r("h3",[t._v("基本信息")]),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"订单号"}},[r("span",[t._v(" "+t._s(t.form.orderSn))])])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"订单用户"}},[r("router-link",{attrs:{to:{path:"shopUserDetail?id="+t.form.user.id}}},[t._v("\n            "+t._s(t.form.user.mobile)+"("+t._s(t.form.user.nickName)+")\n          ")])],1)],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"状态"}},[r("span",[r("strong",[t._v(t._s(t.form.statusName)+" ")])])])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"订单备注"}},[r("span",[t._v(t._s(t.form.message)+" ")])])],1),t._v(" "),r("h3",[t._v("收货信息")]),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"收货人"}},[r("span",[t._v(t._s(t.form.address.name))])])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"联系电话"}},[r("span",[t._v(t._s(t.form.address.tel))])])],1),t._v(" "),r("el-col",{attrs:{span:12}},[r("el-form-item",{attrs:{label:"收货地址"}},[r("span",[t._v(t._s(t.form.address.addressDetail))])])],1),t._v(" "),r("el-col",{attrs:{span:24}},[r("h3",[t._v("订单明细")])]),t._v(" "),r("el-table",{attrs:{data:t.form.items,border:"",fit:""}},[r("el-table-column",{attrs:{label:"商品"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("router-link",{attrs:{to:{path:"goodsEdit?id="+e.row.goods.id}}},[t._v("\n              "+t._s(e.row.title)+"\n            ")])]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"图片"},scopedSlots:t._u([{key:"default",fn:function(e){return[r("img",{staticStyle:{width:"50px"},attrs:{src:t.apiUrl+"/file/getImgStream?idFile="+e.row.goods.pic}})]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"价格"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.formatPrice(e.row.price))+"\n          ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"数量"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(e.row.count)+"\n          ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:"合计"},scopedSlots:t._u([{key:"default",fn:function(e){return[t._v("\n            "+t._s(t.formatPrice(e.row.totalPrice))+"\n          ")]}}])}),t._v(" "),r("el-table-column",{attrs:{label:""}})],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"总金额"}},[r("span",[t._v(t._s(t.formatPrice(t.form.totalPrice)))])])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"优惠券抵扣金额"}},[r("span",[t._v(" "+t._s(t.formatPrice(t.form.couponPrice)))])])],1),t._v(" "),r("el-col",{attrs:{span:8}},[r("el-form-item",{attrs:{label:"实付金额"}},[r("span",[t._v(t._s(t.formatPrice(t.form.realPrice)))])])],1)],1)],1)],1)},a=[],s=r("d915"),o=r("fa7d"),l={data:function(){return{form:{user:{id:"",name:""},address:{name:"",tel:"",addressDetail:""}},apiUrl:Object(o["getApiUrl"])()}},created:function(){this.form.orderSn=this.$route.query.orderSn,this.init()},methods:{init:function(){this.fetchData()},fetchData:function(){var t=this;this.form.orderSn&&Object(s["getOrder"])(this.form.orderSn).then((function(e){t.form=e.data}))},sendOut:function(){var t=this;Object(s["sendOut"])(this.form.id).then((function(e){t.fetchData(),t.$message({message:"发货成功,只是将订单状态更改为已发货",type:"info"})}))},formatPrice:function(t){return t?"￥"+(t/100).toFixed(2):""},printOrder:function(){this.$print(this.$refs.print)}}},i=l,c=(r("cf9a"),r("2877")),u=Object(c["a"])(i,n,a,!1,null,"0e5ca146",null);e["default"]=u.exports},cf9a:function(t,e,r){"use strict";var n=r("e6e1"),a=r.n(n);a.a},d915:function(t,e,r){"use strict";r.r(e),r.d(e,"getList",(function(){return a})),r.d(e,"sendOut",(function(){return s})),r.d(e,"remove",(function(){return o})),r.d(e,"getOrder",(function(){return l}));var n=r("b775");function a(t){return Object(n["default"])({url:"/shop/order/list",method:"get",params:t})}function s(t){return Object(n["default"])({url:"/shop/order/sendOut/"+t,method:"post"})}function o(t){return Object(n["default"])({url:"/shop/order",method:"delete",params:{id:t}})}function l(t){return Object(n["default"])({url:"/shop/order/"+t,method:"get"})}},e6e1:function(t,e,r){},fa7d:function(t,e,r){"use strict";r.r(e),r.d(e,"getApiUrl",(function(){return a}));var n="/api/admin/";function a(){return n}}}]);