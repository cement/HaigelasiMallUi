(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-1a17b244"],{"0a26":function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n("ad06"),i=n("9884"),r=n("ea8e"),s=function(e){var t=e.parent,n=e.bem,s=e.role;return{mixins:[Object(i["a"])(t)],props:{name:null,value:null,disabled:Boolean,iconSize:[Number,String],checkedColor:String,labelPosition:String,labelDisabled:Boolean,shape:{type:String,default:"round"},bindGroup:{type:Boolean,default:!0}},computed:{disableBindRelation:function(){return!this.bindGroup},isDisabled:function(){return this.parent&&this.parent.disabled||this.disabled},iconStyle:function(){var e=this.checkedColor||this.parent&&this.parent.checkedColor;if(e&&this.checked&&!this.isDisabled)return{borderColor:e,backgroundColor:e}},tabindex:function(){return this.isDisabled||"radio"===s&&!this.checked?-1:0}},methods:{onClick:function(e){var t=e.target,n=this.$refs.icon,a=n===t||n.contains(t);this.isDisabled||!a&&this.labelDisabled||this.toggle(),this.$emit("click",e)},genIcon:function(){var e=this.$createElement,t=this.checked,i=this.iconSize||this.parent&&this.parent.iconSize;return e("div",{ref:"icon",class:n("icon",[this.shape,{disabled:this.isDisabled,checked:t}]),style:{fontSize:Object(r["a"])(i)}},[this.slots("icon",{checked:t})||e(a["a"],{attrs:{name:"success"},style:this.iconStyle})])},genLabel:function(){var e=this.$createElement,t=this.slots();if(t)return e("span",{class:n("label",[this.labelPosition,{disabled:this.isDisabled}])},[t])}},render:function(){var e=arguments[0],t=[this.genIcon()];return"left"===this.labelPosition?t.unshift(this.genLabel()):t.push(this.genLabel()),e("div",{attrs:{role:s,tabindex:this.tabindex,"aria-checked":String(this.checked)},class:n({disabled:this.isDisabled,"label-disabled":this.labelDisabled}),on:{click:this.onClick}},[t])}}}},1264:function(e,t,n){},"2f94":function(e,t,n){"use strict";var a=n("b775");t["a"]={get:function(e){return Object(a["a"])({url:"/user/address/"+e,method:"get"})},changeDefault:function(e,t){return Object(a["a"])({url:"/user/address/"+e+"/"+t,method:"post"})},queryByUser:function(){return Object(a["a"])({url:"/user/address/queryByUser",method:"get"})},save:function(e){return Object(a["a"])({url:"/user/address/save",method:"post",data:e})},remove:function(e){return Object(a["a"])({url:"/user/address/"+e,method:"delete"})}}},"4d48":function(e,t,n){"use strict";n("68ef"),n("bf60")},5246:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743"),n("8a0b")},"6b41":function(e,t,n){"use strict";var a=n("2638"),i=n.n(a),r=n("d282"),s=n("a142"),o=n("ba31"),c=n("b1d2"),l=n("ad06"),d=Object(r["a"])("nav-bar"),u=d[0],f=d[1];function b(e,t,n,a){var r;function d(){return n.left?n.left():[t.leftArrow&&e(l["a"],{class:f("arrow"),attrs:{name:"arrow-left"}}),t.leftText&&e("span",{class:f("text")},[t.leftText])]}function u(){return n.right?n.right():t.rightText?e("span",{class:f("text")},[t.rightText]):void 0}return e("div",i()([{style:{zIndex:t.zIndex},class:[f({fixed:t.fixed}),(r={},r[c["b"]]=t.border,r)]},Object(o["b"])(a)]),[e("div",{class:f("left"),on:{click:a.listeners["click-left"]||s["f"]}},[d()]),e("div",{class:[f("title"),"van-ellipsis"]},[n.title?n.title():t.title]),e("div",{class:f("right"),on:{click:a.listeners["click-right"]||s["f"]}},[u()])])}b.props={title:String,fixed:Boolean,zIndex:[Number,String],leftText:String,rightText:String,leftArrow:Boolean,border:{type:Boolean,default:!0}},t["a"]=u(b)},"8a0b":function(e,t,n){},9884:function(e,t,n){"use strict";n.d(t,"a",(function(){return r})),n.d(t,"b",(function(){return s}));var a=n("2b0e");function i(e){var t=[];function n(e){e.forEach((function(e){t.push(e),e.children&&n(e.children)}))}return n(e),t}function r(e,t){var n,r;void 0===t&&(t={});var s=t.indexKey||"index";return a["a"].extend({inject:(n={},n[e]={default:null},n),computed:(r={parent:function(){return this.disableBindRelation?null:this[e]}},r[s]=function(){return this.bindRelation(),this.parent.children.indexOf(this)},r),mounted:function(){this.bindRelation()},beforeDestroy:function(){var e=this;this.parent&&(this.parent.children=this.parent.children.filter((function(t){return t!==e})))},methods:{bindRelation:function(){if(this.parent&&-1===this.parent.children.indexOf(this)){var e=[].concat(this.parent.children,[this]),t=i(this.parent.slots());e.sort((function(e,n){return t.indexOf(e.$vnode)-t.indexOf(n.$vnode)})),this.parent.children=e}}}})}function s(e){return{provide:function(){var t;return t={},t[e]=this,t},data:function(){return{children:[]}}}}},"9b7e":function(e,t,n){},"9f14":function(e,t,n){"use strict";var a=n("d282"),i=n("0a26"),r=Object(a["a"])("radio"),s=r[0],o=r[1];t["a"]=s({mixins:[Object(i["a"])({bem:o,role:"radio",parent:"vanRadio"})],computed:{currentValue:{get:function(){return this.parent?this.parent.value:this.value},set:function(e){(this.parent||this).$emit("input",e)}},checked:function(){return this.currentValue===this.name}},methods:{toggle:function(){this.currentValue=this.name}}})},a3e2:function(e,t,n){"use strict";var a=n("2638"),i=n.n(a),r=n("d282"),s=n("ba31"),o=n("b1d2"),c=n("ad06"),l=Object(r["a"])("tag"),d=l[0],u=l[1];function f(e,t,n,a){var r,l,d,f=t.type,b=t.mark,h=t.plain,p=t.color,g=t.round,v=t.size,m=h?"color":"backgroundColor",k=(r={},r[m]=p,r);t.textColor&&(k.color=t.textColor);var j={mark:b,plain:h,round:g};v&&(j[v]=v);var x=t.closeable&&e(c["a"],{attrs:{name:"cross"},class:u("close"),on:{click:function(e){e.stopPropagation(),Object(s["a"])(a,"close")}}});return e("transition",{attrs:{name:t.closeable?"van-fade":null}},[e("span",i()([{key:"content",style:k,class:[u([j,f]),(l={},l[o["d"]]=h,l)]},Object(s["b"])(a,!0)]),[null===(d=n.default)||void 0===d?void 0:d.call(n),x])])}f.props={size:String,mark:Boolean,color:String,plain:Boolean,round:Boolean,textColor:String,closeable:Boolean,type:{type:String,default:"default"}},t["a"]=d(f)},b383:function(e,t,n){"use strict";n.r(t);var a=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",[n("van-nav-bar",{attrs:{title:"收货地址","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),n("van-address-list",{attrs:{list:e.list,"disabled-text":""},on:{add:e.onAdd,edit:e.onEdit},model:{value:e.chosenAddressId,callback:function(t){e.chosenAddressId=t},expression:"chosenAddressId"}})],1)},i=[],r=n("bd86"),s=(n("5246"),n("6b41")),o=(n("c3a6"),n("ad06")),c=(n("81e6"),n("9ffb")),l=(n("4d48"),n("d1e1")),d=(n("e7e5"),n("d399")),u=(n("68ef"),n("9d70"),n("3743"),n("dde9"),n("9b7e"),n("1a04"),n("e3b3"),n("bc1b"),n("e2c8"),n("2638")),f=n.n(u),b=n("d282"),h=n("ba31"),p=n("b650"),g=n("e27c"),v=n("a3e2"),m=n("7744"),k=n("9f14"),j=Object(b["a"])("address-item"),x=j[0],O=j[1];function y(e,t,n,a){var i=t.disabled,r=t.switchable;function s(){r&&Object(h["a"])(a,"select"),Object(h["a"])(a,"click")}var c=function(){return e(o["a"],{attrs:{name:"edit"},class:O("edit"),on:{click:function(e){e.stopPropagation(),Object(h["a"])(a,"edit"),Object(h["a"])(a,"click")}}})};function l(){if(t.data.isDefault&&t.defaultTagText)return e(v["a"],{attrs:{type:"danger",round:!0},class:O("tag")},[t.defaultTagText])}function d(){var n=t.data,a=[e("div",{class:O("name")},[n.name+" "+n.tel,l()]),e("div",{class:O("address")},[n.address])];return r&&!i?e(k["a"],{attrs:{name:n.id,iconSize:18}},[a]):a}return e(m["a"],f()([{class:O({disabled:i}),attrs:{border:!1,valueClass:O("value"),clickable:r&&!i},scopedSlots:{default:d,"right-icon":c},on:{click:s}},Object(h["b"])(a)]))}y.props={data:Object,disabled:Boolean,switchable:Boolean,defaultTagText:String};var S=x(y),T=Object(b["a"])("address-list"),B=T[0],C=T[1],w=T[2];function z(e,t,n,a){var i,r;function s(n,i){if(n)return n.map((function(n,r){return e(S,{attrs:{data:n,disabled:i,switchable:t.switchable,defaultTagText:t.defaultTagText},key:n.id,on:{select:function(){Object(h["a"])(a,i?"select-disabled":"select",n,r),i||Object(h["a"])(a,"input",n.id)},edit:function(){Object(h["a"])(a,i?"edit-disabled":"edit",n,r)},click:function(){Object(h["a"])(a,"click-item",n,r)}}})}))}var o=s(t.list),c=s(t.disabledList,!0);return e("div",f()([{class:C()},Object(h["b"])(a)]),[null===(i=n.top)||void 0===i?void 0:i.call(n),e(g["a"],{attrs:{value:t.value}},[o]),t.disabledText&&e("div",{class:C("disabled-text")},[t.disabledText]),c,null===(r=n.default)||void 0===r?void 0:r.call(n),e("div",{class:C("bottom")},[e(p["a"],{attrs:{round:!0,block:!0,type:"danger",text:t.addButtonText||w("add")},class:C("add"),on:{click:function(){Object(h["a"])(a,"add")}}})])])}z.props={list:Array,value:[Number,String],disabledList:Array,disabledText:String,addButtonText:String,defaultTagText:String,switchable:{type:Boolean,default:!0}};var A,D=B(z),$=n("2f94"),I=n("5d2d"),P={components:(A={},Object(r["a"])(A,D.name,D),Object(r["a"])(A,d["a"].name,d["a"]),Object(r["a"])(A,l["a"].name,l["a"]),Object(r["a"])(A,c["a"].name,c["a"]),Object(r["a"])(A,o["a"].name,o["a"]),Object(r["a"])(A,s["a"].name,s["a"]),A),data:function(){return{activeFooter:3,chosenAddressId:0,list:[]}},mounted:function(){this.init()},methods:{init:function(){var e=this;$["a"].queryByUser().then((function(t){for(var n in e.list=t.data,e.list)!0===e.list[n].isDefault&&(e.chosenAddressId=e.list[n].id)})).catch((function(e){Object(d["a"])(e.response.data.message)}))},onAdd:function(){Object(d["a"])("新增地址"),this.$router.push("address/edit")},onEdit:function(e,t){this.$router.push({path:"address/edit",query:{id:e.id}})},onClickLeft:function(){I["a"].set("chosenAddressId",this.chosenAddressId),this.$router.go(-1)}}},R=P,q=(n("c1b0"),n("2877")),L=Object(q["a"])(R,a,i,!1,null,null,null);t["default"]=L.exports},b650:function(e,t,n){"use strict";var a=n("c31d"),i=n("2638"),r=n.n(i),s=n("d282"),o=n("ba31"),c=n("b1d2"),l=n("48f4"),d=n("ad06"),u=n("543e"),f=Object(s["a"])("button"),b=f[0],h=f[1];function p(e,t,n,a){var i,s=t.tag,f=t.icon,b=t.type,p=t.color,g=t.plain,v=t.disabled,m=t.loading,k=t.hairline,j=t.loadingText,x={};function O(e){m||v||(Object(o["a"])(a,"click",e),Object(l["a"])(a))}function y(e){Object(o["a"])(a,"touchstart",e)}p&&(x.color=g?p:c["h"],g||(x.background=p),-1!==p.indexOf("gradient")?x.border=0:x.borderColor=p);var S=[h([b,t.size,{plain:g,loading:m,disabled:v,hairline:k,block:t.block,round:t.round,square:t.square}]),(i={},i[c["d"]]=k,i)];function T(){var a,i=[];return m?i.push(e(u["a"],{class:h("loading"),attrs:{size:t.loadingSize,type:t.loadingType,color:"currentColor"}})):f&&i.push(e(d["a"],{attrs:{name:f},class:h("icon")})),a=m?j:n.default?n.default():t.text,a&&i.push(e("span",{class:h("text")},[a])),i}return e(s,r()([{style:x,class:S,attrs:{type:t.nativeType,disabled:v},on:{click:O,touchstart:y}},Object(o["b"])(a)]),[T()])}p.props=Object(a["a"])({},l["c"],{text:String,icon:String,color:String,block:Boolean,plain:Boolean,round:Boolean,square:Boolean,loading:Boolean,hairline:Boolean,disabled:Boolean,nativeType:String,loadingText:String,loadingType:String,tag:{type:String,default:"button"},type:{type:String,default:"default"},size:{type:String,default:"normal"},loadingSize:{type:String,default:"20px"}}),t["a"]=b(p)},b775:function(e,t,n){"use strict";n("a481");var a=n("bc3a"),i=n.n(a),r=n("41cb"),s=n("4360"),o=n("5d2d"),c=i.a.create({baseURL:"http://139.129.117.238/api/mobile/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!1,timeout:15e3});c.interceptors.request.use((function(e){return o["a"].getToken()&&(e.headers["Authorization"]=o["a"].getToken()),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){console.log("response",e),e.headers.token&&s["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return console.log(t.code),1e4==t.code?e:2e4!=t.code?Promise.reject(t.msg||"error"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return s["a"].dispatch("app/toggleUser",{}),s["a"].dispatch("app/toggleToken",""),r["a"].replace({path:"/login",query:{redirect:r["a"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:return e.response.data.message&&e.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),s["a"].dispatch("app/toggleUser",{}),s["a"].dispatch("app/toggleToken",""),r["a"].replace({path:"/login",query:{redirect:r["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):Promise.reject(e.response.data.message);default:return Promise.reject(e.response.data.message)}})),t["a"]=c},bc1b:function(e,t,n){},bf60:function(e,t,n){},c1b0:function(e,t,n){"use strict";var a=n("1264"),i=n.n(a);i.a},c3a6:function(e,t,n){"use strict";n("68ef"),n("9d70"),n("3743")},d1e1:function(e,t,n){"use strict";var a=n("d282"),i=Object(a["a"])("row"),r=i[0],s=i[1];t["a"]=r({props:{type:String,align:String,justify:String,tag:{type:String,default:"div"},gutter:{type:[Number,String],default:0}},methods:{onClick:function(e){this.$emit("click",e)}},render:function(){var e,t=arguments[0],n=this.align,a=this.justify,i="flex"===this.type,r="-"+Number(this.gutter)/2+"px",o=this.gutter?{marginLeft:r,marginRight:r}:{};return t(this.tag,{style:o,class:s((e={flex:i},e["align-"+n]=i&&n,e["justify-"+a]=i&&a,e)),on:{click:this.onClick}},[this.slots()])}})},dde9:function(e,t,n){},e27c:function(e,t,n){"use strict";var a=n("d282"),i=n("9884"),r=Object(a["a"])("radio-group"),s=r[0],o=r[1];t["a"]=s({mixins:[Object(i["b"])("vanRadio")],props:{value:null,disabled:Boolean,checkedColor:String,iconSize:[Number,String]},watch:{value:function(e){this.$emit("change",e)}},render:function(){var e=arguments[0];return e("div",{class:o(),attrs:{role:"radiogroup"}},[this.slots()])}})},e2c8:function(e,t,n){}}]);