(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-76470dac"],{a7e0:function(e,t,a){"use strict";var r=a("ddaf"),n=a.n(r);n.a},b775:function(e,t,a){"use strict";a("a481");var r=a("bc3a"),n=a.n(r),s=a("41cb"),o=a("4360"),u=a("5d2d"),c=n.a.create({baseURL:"http://139.129.117.238/api/mobile/",headers:{"Access-Control-Allow-Origin":"*","Content-Type":"application/json"},withCredentials:!1,timeout:15e3});c.interceptors.request.use((function(e){return u["a"].getToken()&&(e.headers["Authorization"]=u["a"].getToken()),e}),(function(e){return Promise.reject(e)})),c.interceptors.response.use((function(e){console.log("response",e),e.headers.token&&o["a"].dispatch("app/toggleToken",e.headers.token);var t=e.data;return console.log(t.code),1e4==t.code?e:2e4!=t.code?Promise.reject(t.msg||"error"):t}),(function(e){if(e.response)switch(e.response.status){case 401:return o["a"].dispatch("app/toggleUser",{}),o["a"].dispatch("app/toggleToken",""),s["a"].replace({path:"/login",query:{redirect:s["a"].currentRoute.path}}),Promise.reject(e.response.data.message);case 500:return e.response.data.message&&e.response.data.message.indexOf("relogin")>-1?(console.log("need relogin"),o["a"].dispatch("app/toggleUser",{}),o["a"].dispatch("app/toggleToken",""),s["a"].replace({path:"/login",query:{redirect:s["a"].currentRoute.path}}),Promise.reject(e.response.data.message)):Promise.reject(e.response.data.message);default:return Promise.reject(e.response.data.message)}})),t["a"]=c},c24f:function(e,t,a){"use strict";var r=a("b775");t["a"]={getUserInfo:function(){return Object(r["a"])({url:"/user/getInfo",method:"get"})},updateUserName:function(e){return Object(r["a"])({url:"/user/updateUserName/"+e,method:"post"})},updatePwd:function(e){return Object(r["a"])({url:"/account/updatePwd",method:"post",params:e})},updateGender:function(e){return Object(r["a"])({url:"/user/updateGender/"+e,method:"post"})},updatePassword:function(e,t,a){return Object(r["a"])({url:"/user/updatePassword/"+e+"/"+t+"/"+a,method:"post"})},upload:function(e){return console.log("file",e),Object(r["a"])({url:"/file/upload/base64",method:"post",data:e})},sendSmsCode:function(e){return Object(r["a"])({url:"/user/sendSmsCode",method:"post",params:{mobile:e}})}}},ddaf:function(e,t,a){},f588:function(e,t,a){"use strict";a.r(t);var r,n=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a("div",{staticClass:"updateUserName"},[a("van-nav-bar",{attrs:{title:"修改姓名","left-arrow":""},on:{"click-left":e.onClickLeft}}),e._v(" "),a("van-cell-group",[a("van-field",{attrs:{required:"",clearable:"",label:"用户名",placeholder:"请输入"},model:{value:e.userName,callback:function(t){e.userName=t},expression:"userName"}})],1),e._v(" "),a("van-button",{attrs:{type:"primary",round:"",block:""},on:{click:e.submit}},[e._v("确定")])],1)},s=[],o=a("bd86"),u=(a("e7e5"),a("d399")),c=(a("be7f"),a("565f")),i=(a("5246"),a("6b41")),d=(a("0653"),a("34e9")),p=(a("c194"),a("7744")),l=(a("66b9"),a("b650")),m=a("c24f"),f=a("4360"),b={components:(r={},Object(o["a"])(r,l["a"].name,l["a"]),Object(o["a"])(r,p["a"].name,p["a"]),Object(o["a"])(r,d["a"].name,d["a"]),Object(o["a"])(r,i["a"].name,i["a"]),Object(o["a"])(r,c["a"].name,c["a"]),Object(o["a"])(r,u["a"].name,u["a"]),r),data:function(){return{userName:""}},mounted:function(){this.init()},methods:{init:function(){this.userName=f["a"].state.app.user.nickName},onClickLeft:function(){this.$router.go(-1)},submit:function(){var e=this;this.userName&&""!==this.userName?m["a"].updateUserName(this.userName).then((function(t){f["a"].dispatch("app/toggleUser",t.data),e.$router.go(-1)})):Object(u["a"])("请输入姓名")}}},h=b,g=(a("a7e0"),a("2877")),j=Object(g["a"])(h,n,s,!1,null,null,null);t["default"]=j.exports}}]);